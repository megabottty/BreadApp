<div class="wizard-container">
  <div class="wizard-card">
    <header class="wizard-header">
      <div class="logo">ü•ñ</div>
      <h1>Welcome to The Daily Dough</h1>
      <p>Let's get your bakery set up and ready for orders.</p>

      <div class="progress-stepper">
        @for (step of [1,2,3,4]; track step) {
          <div class="step" [class.active]="currentStep() === step" [class.completed]="currentStep() > step">
            <span class="step-num">{{currentStep() > step ? '‚úì' : step}}</span>
          </div>
        }
      </div>
    </header>

    <main class="wizard-body">
      <!-- Step 1: Branding -->
      @if (currentStep() === 1) {
        <div class="step-content">
          <h2>üé® Your Bakery Branding</h2>
          <p>Choose the colors that represent your brand. These will be used for your storefront.</p>

          <div class="branding-grid">
            <div class="form-group">
              <label>Primary Color (Main Accents)</label>
              <div class="color-input-wrapper">
                <input type="color" [(ngModel)]="primaryColor">
                <code>{{primaryColor()}}</code>
              </div>
            </div>
            <div class="form-group">
              <label>Secondary Color (Highlights)</label>
              <div class="color-input-wrapper">
                <input type="color" [(ngModel)]="secondaryColor">
                <code>{{secondaryColor()}}</code>
              </div>
            </div>
          </div>
          <div class="branding-preview" [style.background]="primaryColor()">
             <span [style.color]="secondaryColor()">Storefront Preview</span>
          </div>
        </div>
      }

      <!-- Step 2: Oven -->
      @if (currentStep() === 2) {
        <div class="step-content">
          <h2>üî• Oven Configuration</h2>
          <p>Tell us about your oven capacity so we can optimize your "Smart Batches".</p>

          <div class="form-group">
            <label>Oven Capacity (Loaves per batch)</label>
            <input type="number" [(ngModel)]="ovenCapacity" class="form-control" min="1">
            <small class="hint">How many loaves can you bake at the same time?</small>
          </div>

          <div class="info-box">
             üí° <strong>Smart Batches</strong> automatically groups your orders to maximize your oven's efficiency.
          </div>
        </div>
      }

      <!-- Step 3: Location -->
      @if (currentStep() === 3) {
        <div class="step-content">
          <h2>üìç Location & Contact</h2>
          <p>This information helps customers find you and get in touch.</p>

          <div class="form-group">
            <label>Shop Address</label>
            <input type="text" [(ngModel)]="address" placeholder="e.g. 123 Baker St, Salt Lake City, UT" class="form-control">
          </div>

          <div class="form-grid">
            <div class="form-group">
              <label>Public Phone</label>
              <input type="tel" [(ngModel)]="phone" placeholder="(555) 000-0000" class="form-control">
            </div>
            <div class="form-group">
              <label>Public Email</label>
              <input type="email" [(ngModel)]="email" placeholder="hello@mybakery.com" class="form-control">
            </div>
          </div>
        </div>
      }

      <!-- Step 4: Plan Selection -->
      @if (currentStep() === 4) {
        <div class="step-content">
          <h2>ü•ñ Choose Your Plan</h2>
          <p>Select a plan that fits your bakery's scale. All plans start with a 14-day free trial.</p>

          <div class="plan-grid">
            <div class="plan-card" [class.selected]="selectedPlan() === 'BASIC'" (click)="selectedPlan.set('BASIC')">
              <div class="plan-header">
                <h3>Basic</h3>
                <span class="price">$29/mo</span>
              </div>
              <ul>
                <li>‚úì Professional Storefront</li>
                <li>‚úì Recipe Calculator</li>
                <li>‚úì Daily Production Plans</li>
                <li>‚úì 2.9% + 30¬¢ Transaction Fee</li>
              </ul>
              <div class="selection-indicator"></div>
            </div>

            <div class="plan-card" [class.selected]="selectedPlan() === 'PRO'" (click)="selectedPlan.set('PRO')">
              <div class="plan-header">
                <span class="badge">Recommended</span>
                <h3>Pro</h3>
                <span class="price">$79/mo</span>
              </div>
              <ul>
                <li>‚úì Everything in Basic</li>
                <li>‚úì Advanced Sales Forecasts</li>
                <li>‚úì Inventory Management</li>
                <li>‚úì Lower 1.5% Platform Fee</li>
              </ul>
              <div class="selection-indicator"></div>
            </div>
          </div>
          <p class="trial-note">Your trial ends 14 days from today. No card required to start.</p>
        </div>
      }
    </main>

    <footer class="wizard-footer">
      <button class="btn-outline" (click)="prevStep()" [disabled]="currentStep() === 1">Back</button>
      <button class="btn-primary" (click)="nextStep()">
        {{ currentStep() === totalSteps ? 'Finish Setup' : 'Continue' }}
      </button>
    </footer>
  </div>
</div>
